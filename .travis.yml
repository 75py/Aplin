language: android

android:
  components:
    - tools
    - build-tools-23.0.2
    - android-23
    - extra-android-m2repository
    - extra-google-m2repository
    - extra-android-support
  licenses:
    - android-sdk-license-5be876d5

jdk:
  - oraclejdk8

branches:
  only:
    - develop

before_script:
    - chmod +x gradlew
    - echo "sdk.dir=$ANDROID_HOME" > local.properties
    - echo "travis.job=$TRAVIS_JOB_NUMBER" >> local.properties
    - mkdir app/signingConfigs
    - echo 'signingConfigs{ release {} }' > app/signingConfigs/release.gradle

script:
    - ./gradlew assembleDebug

after_success:
  - ./gradlew crashlyticsUploadDistributionDebug

